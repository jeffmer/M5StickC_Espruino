function ST7735S(){function n(d,p,c,f,k){function a(e,b){p.reset();d.write(e,c);void 0!==b&&(p.set(),d.write(b,c))}f?digitalPulse(f,0,10):a(1);setTimeout(function(){a(17);setTimeout(function(){a(177,[1,44,45]);a(178,[1,44,45]);a(179,[1,44,45,1,44,45]);a(180,7);a(192,[162,2,132]);a(193,197);a(194,[10,0]);a(195,[138,42]);a(196,[138,238]);a(197,14);a(33,0);a(54,200);a(58,5);a(42,[0,0,0,79]);a(43,[0,0,0,159]);a(224,[2,28,7,18,55,50,41,45,41,37,43,57,0,1,3,16]);a(225,[3,29,7,6,46,44,41,45,46,46,55,63,
    0,0,2,16]);a(19);a(41);k()},10)},100)}SPI1.setup({sck:D13,mosi:D15,baud:4E6});return function(d,p){var c=d.spi,f=d.dc,k=d.cs,a=d.rst,e={};e.chunkbuf=new Uint16Array(1280);e.clear=function(){e.chunkbuf.fill(0);k.reset();c.write(42,f);c.write(0,26,0,105);c.write(43,f);c.write(0,1,0,160);c.write(44,f);new Uint16Array(1280);for(var b=0;10>b;++b)c.write(e.chunkbuf.buffer);k.set()};e.drawImage=function(b,l,m){l+=26;m+=1;var h=l+b.width-1,q=m+b.height-1;k.reset();c.write(42,f);c.write(0,l,0,h);c.write(43,
    f);c.write(0,m,0,q);c.write(44,f);l=Math.floor(b.height*b.width/1280);m=b.height*b.width%1280;if(0<l)for(h=0;h<l;++h)E.mapInPlace(new Uint8Array(b.buffer,1280*h*b.bpp/8,1280),e.chunkbuf,b.palette,b.bpp),c.write(e.chunkbuf.buffer);0<m&&(h=new Uint16Array(m),E.mapInPlace(new Uint8Array(b.buffer,1280*l*b.bpp/8,m),h,b.palette,b.bpp),c.write(h.buffer));k.set()};n(c,f,k,a,function(){e.clear()});return e}({spi:SPI1,dc:D23,cs:D5,rst:D18})}M5C.backlight(1);
    function message(){var n=new Uint16Array([0,65535]),d=Graphics.createArrayBuffer(10,110,1,{msb:!0});d.setRotation(3);d.setColor(1);d.setFont("6x8");d.drawString("M5Stick-C Espruino");g.drawImage({width:10,height:110,bpp:1,buffer:d.buffer,palette:n},35,30)}var g=ST7735S(message);setTimeout(message,200);