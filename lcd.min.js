function ST7735S(r){function t(b,k,d,c,e){function a(l,f){k.reset();b.write(l,d);void 0!==f&&(k.set(),b.write(f,d))}c?digitalPulse(c,0,10):a(1);setTimeout(function(){a(17);setTimeout(function(){a(177,[1,44,45]);a(178,[1,44,45]);a(179,[1,44,45,1,44,45]);a(180,7);a(192,[162,2,132]);a(193,197);a(194,[10,0]);a(195,[138,42]);a(196,[138,238]);a(197,14);a(33,0);a(54,200);a(58,5);a(42,[0,0,0,79]);a(43,[0,0,0,h-1]);a(224,[2,28,7,18,55,50,41,45,41,37,43,57,0,1,3,16]);a(225,[3,29,7,6,46,44,41,45,46,46,55,63,
    0,0,2,16]);a(19);a(41);e&&e()},10)},100)}var h=160,q=new SPI;q.setup({sck:D13,mosi:D15,baud:4E6});return function(b,k){var d=b.palette,c=b.spi,e=b.dc,a=b.cs,l=b.rst;b.height&&(h=b.height);var f=16<d.length?8:4<d.length?4:2<d.length?2:1;var m=Graphics.createArrayBuffer(80,h,f,{msb:!0});m.flip=function(){a.reset();c.write(42,e);c.write(0,26,0,105);c.write(43,e);c.write(0,1,0,h+1-1);c.write(44,e);for(var n=new Uint16Array(1280),p=0;p<h;p+=16)E.mapInPlace(new Uint8Array(m.buffer,80*p*f/8,n.length),n,
    d,f),c.write(n.buffer);a.set()};t(c,e,a,l,k);return m}({palette:r,spi:q,dc:D23,cs:D5,rst:D18},function(){g.clear();g.setRotation(3);g.setColor(3);g.drawString("Hello",10,10);g.setColor(1);g.setFontVector(20);g.drawString("M5C Espruino",10,20);g.flip()})}var g=ST7735S(new Uint16Array([0,992,63488,65535]));